import{b as x}from"./react-vendor-BonVoVve.js";import{a as w,u as h,Q as r}from"./index-C_Qa9BS0.js";function R(){const{startPractice:c,finishPractice:a,nextQuestion:d,addAnsweredQuestion:l,currentQuestionIndex:s,practiceQuestions:Q,usedQuestionIndices:m,questionStartTime:o,currentQuestion:n}=w(),{allQuestionsByTopic:f,selectedTopics:i}=h(),p=x.useCallback(()=>{if(i.length===0)throw new Error("Выберите хотя бы одну тему для практики!");const e=r.updateSelectedQuestions(f,i).questions;if(e.length===0)throw new Error("Выберите хотя бы одну тему для практики!");const t=r.getRandomQuestion(e,[]);t.question&&c(t.question,e,t.usedIndices)},[f,i,c]),g=x.useCallback(()=>{if(!o||!n)return;const q=Math.floor((Date.now()-o)/1e3),e={number:s+1,category:n.category,question:n.question,time:q},t=Q;if(s+1>=t.length){l(e),a();return}const u=r.getRandomQuestion(t,m);u.question&&d(u.question,u.usedIndices,e)},[o,n,s,Q,m,a,d,l]);return{start:p,next:g}}export{R as u};
