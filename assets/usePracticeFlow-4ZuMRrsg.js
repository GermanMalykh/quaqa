import{b as l}from"./react-vendor-BonVoVve.js";import{a as q,u as g,Q as f}from"./index-COspHlVZ.js";function p(){const{startPractice:u,finishPractice:r,nextQuestion:a,addAnsweredQuestion:c,currentQuestionIndex:s,usedQuestionIndices:d,questionStartTime:o,currentQuestion:n}=q(),{questions:e}=g(),m=l.useCallback(()=>{if(e.length===0)throw new Error("Выберите хотя бы одну тему для практики!");const t=f.getRandomQuestion(e,[]);t.question&&u(t.question,t.usedIndices)},[e,u]),x=l.useCallback(()=>{if(!o||!n)return;const t=Math.floor((Date.now()-o)/1e3),Q={number:s+1,category:n.category,question:n.question,time:t};if(s+1>=e.length){c(Q),r();return}const i=f.getRandomQuestion(e,d);i.question&&a(i.question,i.usedIndices,Q)},[o,n,s,e,d,r,a,c]);return{start:m,next:x}}export{p as u};
